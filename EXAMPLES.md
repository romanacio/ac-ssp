# System Service Profiler - Usage Examples

## Basic Usage Examples

### 1. Quick System Check
```bash
sudo python3 system_profiler.py
```
Run with root privileges to get complete service information with colored output.

### 2. Save Report to File
```bash
sudo python3 system_profiler.py --no-color > server_report_$(date +%Y%m%d).txt
```
Generate a text report with timestamp in the filename.

### 3. Include in Support Ticket
```bash
sudo python3 system_profiler.py --no-color | tee support_info.txt
```
Display output and save to file simultaneously.

### 4. Email Report
```bash
sudo python3 system_profiler.py --no-color | mail -s "Server Status Report" admin@example.com
```
Send the report via email (requires mail command configured).

### 5. Check Before Maintenance
```bash
sudo python3 system_profiler.py > pre_maintenance_check.txt
```
Create a baseline before performing system maintenance.

### 6. Run Without Root (Limited Info)
```bash
python3 system_profiler.py
```
Run without sudo - will show warnings about limited information but still provide useful data.

## Integration Examples

### Add to Login Message (MOTD)
Add to `/etc/update-motd.d/99-system-profiler`:
```bash
#!/bin/bash
echo "=== Quick System Status ==="
python3 /usr/local/bin/system_profiler.py --no-color | grep -A 20 "SYSTEM INFO"
```

### Cron Job for Daily Reports
Add to crontab:
```bash
0 8 * * * /usr/bin/python3 /usr/local/bin/system_profiler.py --no-color > /var/log/daily_system_report_$(date +\%Y\%m\%d).txt
```

### Quick Alias
Add to `~/.bashrc` or `~/.bash_aliases`:
```bash
alias syscheck='sudo python3 /usr/local/bin/system_profiler.py'
```

## Troubleshooting Examples

### Check Only Specific Sections
While the script runs all checks, you can filter output:

```bash
# Show only services
sudo python3 system_profiler.py --no-color | sed -n '/\[SERVICES\]/,/\[CLOUD/p'

# Show only disk usage
sudo python3 system_profiler.py --no-color | sed -n '/\[DISK USAGE\]/,/\[UPDATES\]/p'

# Show only critical issues
sudo python3 system_profiler.py | grep "ðŸ”´"
```

### Compare System States
```bash
# Before changes
sudo python3 system_profiler.py --no-color > before.txt

# ... make changes ...

# After changes
sudo python3 system_profiler.py --no-color > after.txt

# Compare
diff before.txt after.txt
```

## Distribution-Specific Examples

### Ubuntu/Debian Example
```bash
# Install to system location
sudo cp system_profiler.py /usr/local/bin/
sudo chmod +x /usr/local/bin/system_profiler.py

# Run from anywhere
sudo system_profiler.py
```

### RHEL/CentOS/Rocky Example
```bash
# Install to system location
sudo install -m 755 system_profiler.py /usr/local/sbin/

# Run from anywhere
sudo /usr/local/sbin/system_profiler.py
```

## Output Interpretation

### Understanding Service Status

```
âœ“ APACHE: RUNNING (v2.4.52) - Config: /etc/apache2/apache2.conf
```
- Service is active and running
- Version 2.4.52 detected
- Configuration file located

```
âš  NGINX: INSTALLED but NOT RUNNING
```
- Binary found on system
- Service is not currently active
- May need to be started

```
âœ— KUBERNETES: NOT INSTALLED
```
- Service not found on system
- Normal if not using this service

### Understanding Disk Usage

```
âœ“ /: 65% used (325GB / 500GB)
```
- Normal usage (under 80%)

```
âš  /var: 85% used (170GB / 200GB)
```
- Warning level (80-90%)
- Consider cleaning up or expanding

```
ðŸ”´ /data: 95% used (950GB / 1TB) - CRITICAL
```
- Critical level (over 90%)
- Immediate action required

### Understanding Updates

```
âš  23 packages can be updated
```
- Regular updates available
- Plan update window

```
ðŸ”´ 5 security updates available
```
- Security patches waiting
- Should be applied soon

## Advanced Usage

### Custom Wrapper Script
Create `quick-diagnose.sh`:
```bash
#!/bin/bash
echo "Server: $(hostname)"
echo "Date: $(date)"
echo "User: $(whoami)"
echo ""
sudo python3 /usr/local/bin/system_profiler.py
echo ""
echo "Report generated by quick-diagnose.sh"
```

### JSON-like Output (Future Enhancement)
While not currently supported, you could parse the output:
```bash
sudo python3 system_profiler.py --no-color | \
  awk '/\[SERVICES\]/,/\[CLOUD/' | \
  grep "âœ“.*RUNNING"
```

## Integration with Monitoring

### Nagios/Icinga Plugin Style
```bash
#!/bin/bash
# Check for critical disk usage
OUTPUT=$(sudo python3 system_profiler.py --no-color)
if echo "$OUTPUT" | grep -q "ðŸ”´.*CRITICAL"; then
    echo "CRITICAL - Disk space critical"
    exit 2
elif echo "$OUTPUT" | grep -q "âš "; then
    echo "WARNING - Warnings detected"
    exit 1
else
    echo "OK - System healthy"
    exit 0
fi
```

### Slack/Discord Notifications
```bash
#!/bin/bash
REPORT=$(sudo python3 system_profiler.py --no-color)
CRITICAL=$(echo "$REPORT" | grep "ðŸ”´" || echo "None")

if [ "$CRITICAL" != "None" ]; then
    curl -X POST -H 'Content-type: application/json' \
      --data "{\"text\":\"Critical issues detected:\n$CRITICAL\"}" \
      YOUR_WEBHOOK_URL
fi
```

## Tips

1. **First Run**: The first run may take longer as package managers build cache
2. **Regular Use**: Add to your workflow for consistent diagnostics
3. **Before/After**: Always run before and after major changes
4. **Documentation**: Include output in support tickets and incident reports
5. **Automation**: Consider daily cron jobs for trending analysis
6. **Custom Extensions**: Edit the SERVICES and CLOUD_APPS dictionaries for your environment

## Common Issues

### "Unable to detect package manager"
- Not on a supported distribution
- Package manager not in standard location

### "Unable to check disk usage"
- df command not available
- Permissions issue

### "DNS Resolution: FAILED"
- Network connectivity issue
- DNS server not configured
- Firewall blocking

### Service shows as "NOT INSTALLED" but you know it's there
- Service might be in a non-standard location
- Edit the SERVICES dictionary to add custom paths
- Check binary name matches your installation
